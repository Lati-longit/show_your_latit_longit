<!DOCTYPE html>
<html>
<head>
  <title>Location Test</title>
</head>
<body>
  <h2>é»æ“ŠæŒ‰éˆ•ä»¥åˆ†äº«ä½ç½®</h2>
  <button onclick="getLocation()">åˆ†äº«æˆ‘çš„ä½ç½®</button>

  <script>
    async function getLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(sendToDiscord, showError);
      } else {
        alert("Geolocation is not supported by this browser.");
      }
    }

    async function sendToDiscord(position) {
      const latitude = position.coords.latitude;
      const longitude = position.coords.longitude;

      // ä½ çš„ Discord Webhook URL
      const webhookURL = "https://discord.com/api/webhooks/1410170674042900501/alm9MfQGxc0GEx_ia8ITyVA4s_7LXg_eIwpM4F7CIaFSdZ919R12zQ0tLxF5Zo2lYB4x";

      const data = {
        content: `ğŸ“ ä½¿ç”¨è€…ä½ç½®: \nLatitude: ${latitude}\nLongitude: ${longitude}\nGoogle Maps: https://www.google.com/maps?q=${latitude},${longitude}`
      };

      await fetch(webhookURL, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
      });

      alert("å·²å°‡ä½ç½®ç™¼é€è‡³ Discord âœ…");
    }

    function showError(error) {
      switch(error.code) {
        case error.PERMISSION_DENIED:
          alert("ä½¿ç”¨è€…æ‹’çµ•äº†ä½ç½®è«‹æ±‚ã€‚");
          break;
        case error.POSITION_UNAVAILABLE:
          alert("ä½ç½®è³‡è¨Šä¸å¯ç”¨ã€‚");
          break;
        case error.TIMEOUT:
          alert("è«‹æ±‚è¶…æ™‚ã€‚");
          break;
        default:
          alert("ç™¼ç”ŸæœªçŸ¥éŒ¯èª¤ã€‚");
      }
    }
  </script>
</body>
</html>
